@{
    ViewBag.Title = "Kiểm tra trạng thái đăng ký học phần";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}

<div class="container-fluid py-4">
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">Kiểm tra trạng thái đăng ký học phần</h1>
    </div>

    <div class="row">
        <div class="col-lg-8">
            <div class="card shadow-sm border-0 mb-4">
                <div class="card-header py-3 bg-white">
                    <h6 class="m-0 font-weight-bold text-primary">Trạng thái hệ thống</h6>
                </div>
                <div class="card-body">
                    @if (ViewBag.IsActive)
                    {
                        <div class="alert alert-success border-left-success d-flex align-items-center" role="alert">
                            <i class="fas fa-check-circle fa-2x me-3"></i>
                            <div>
                                <h4 class="alert-heading">@ViewBag.StatusMessage</h4>
                                <p class="mb-0">Hệ thống đang mở đăng ký học phần cho sinh viên.</p>
                                <hr>
                                <p class="mb-0 text-muted"><small>Sinh viên có thể truy cập vào hệ thống và tiến hành đăng ký các học phần theo kế hoạch.</small></p>
                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="alert alert-info border-left-info d-flex align-items-center" role="alert">
                            <i class="fas fa-info-circle fa-2x me-3"></i>
                            <div>
                                <h4 class="alert-heading">@ViewBag.StatusMessage</h4>
                                <p class="mb-0">Hiện tại sinh viên không thể đăng ký học phần.</p>
                                <hr>
                                <p class="mb-0 text-muted"><small>Vui lòng kiểm tra lịch đăng ký hoặc liên hệ phòng Đào tạo để biết thêm chi tiết.</small></p>
                            </div>
                        </div>
                    }

                    <div class="mt-4">
                        <div class="card bg-light">
                            <div class="card-body">
                                <h5 class="card-title"><i class="fas fa-calendar-check me-2"></i>Thời gian đăng ký học phần</h5>
                                <p class="card-text">Thời gian đăng ký học phần được quy định theo từng đợt đăng ký. Sinh viên cần theo dõi thông báo từ phòng Đào tạo.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4">
            <div class="card shadow-sm border-0 mb-4">
                <div class="card-header py-3 bg-white">
                    <h6 class="m-0 font-weight-bold text-primary">Thao tác</h6>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <a href="@Url.Action("Index")" class="list-group-item list-group-item-action d-flex align-items-center">
                            <i class="fas fa-arrow-left me-3"></i>
                            <div>
                                <div class="fw-bold">Quay lại danh sách</div>
                                <small>Xem tất cả cấu hình đăng ký học phần</small>
                            </div>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center" id="refreshStatus">
                            <i class="fas fa-sync-alt me-3"></i>
                            <div>
                                <div class="fw-bold">Làm mới trạng thái</div>
                                <small>Cập nhật lại trạng thái hiện tại</small>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <div class="card shadow-sm border-0">
                <div class="card-header py-3 bg-white">
                    <h6 class="m-0 font-weight-bold text-primary">Trợ giúp</h6>
                </div>
                <div class="card-body">
                    <p class="card-text">Nếu có vấn đề về đăng ký học phần, vui lòng liên hệ phòng Đào tạo qua:</p>
                    <div class="d-grid gap-2 mt-3">
                        <a href="mailto:daotao@example.edu.vn" class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-envelope me-2"></i>daotao@example.edu.vn
                        </a>
                        <a href="tel:0123456789" class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-phone me-2"></i>0123.456.789
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function() {
            // Làm mới trạng thái
            $("#refreshStatus").click(function(e) {
                e.preventDefault();

                // Hiệu ứng loading
                $(this).html('<i class="fas fa-spinner fa-spin me-3"></i><div><div class="fw-bold">Đang làm mới...</div><small>Vui lòng đợi</small></div>');

                // Reload trang sau 1 giây để tạo hiệu ứng
                setTimeout(function() {
                    window.location.reload();
                }, 1000);
            });
        });
    </script>
}